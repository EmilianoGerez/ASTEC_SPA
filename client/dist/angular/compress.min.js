function ClientCtrl(e,r,t,n){function i(r,t){e.search.query({id:null,number:r,lastName:t},function(e){o.clientList=e})}var a,o=this;o.clientModel={},o.clientSearch={},o.errorInfo={msg:null,data:null},o.successInfo={msg:null,data:null},o.create=function(r){var t=new e.api(o.clientModel);t.$save(function(e){angular.copy(a,o.clientModel),r.$setPristine(),r.$setUntouched(),o.errorInfo.msg=null,o.successInfo.msg="Cliente creado con exito",o.successInfo.data=e},function(e){o.successInfo.msg=null,o.errorInfo.msg=e.data})},o.search=function(){o.clientSearch.number?(o.searchWord=o.clientSearch.number,i(o.clientSearch.number,"null")):o.clientSearch.lastName&&(o.searchWord=o.clientSearch.lastName,i("null",o.clientSearch.lastName))},o.remove=function(e){var r=t.confirm("Quieres eliminar a "+e.firstName+" "+e.lastName+" ?");r&&(e.$remove(),o.clientList=o.clientList.filter(function(r){return r._id!==e._id}))},o.findOne=function(){e.api.get({id:n.id},function(e){o.clientModel=e})},o.update=function(e){o.clientModel.$update(function(r){e.$setPristine(),e.$setUntouched(),o.errorInfo.msg=null,o.successInfo.msg="Cliente editado con exito",o.successInfo.data=r},function(e){o.successInfo.msg=null,o.errorInfo.msg=e.data})}}function mainCtrl(e,r,t,n){var i=this;n.$on("$stateChangeStart",function(){switch(t.$$path){case"/":i.currentSection="Dashboard";break;case"/clients":i.currentSection="Clientes";break;case"/orders":i.currentSection="Ordenes";break;case"/users":i.currentSection="Usuarios"}}),i.getCurrentUser=function(){i.currentUserData=e.getCurrentUserData()}(),i.logout=function(){i.currentUserData={},e.logout()},i.getOrders=function(){var e=i.currentUserData;i.isAdmin="Admin"==e.role,i.isAdmin?r.api.query(function(e){i.orders=e[0],i.ordersComplete=e[1]}):r.api.query(function(r){var t=r[0],n=Object.keys(t).map(function(e){return t[e]});i.orders=n.filter(function(r){return r.tech.id==e._id})})}}function OrderCtrl(e,r,t,n,i,a){function o(e,t){r.search.query({id:null,number:e,lastName:t},function(e){u.clientList=e})}function s(r,t){e.search.query({id:null,number:r,lastName:t},function(e){u.orderList=e})}var u=this;u.orderModel={},u.orderSearch={},u.errorInfo={msg:null,data:null},u.successInfo={msg:null,data:null},u.solvedOpt=["No","Si"],u.orderStatus=["Cancelada","Asignada","Completada"],u.selectedTech="",u.create=function(r){u.orderModel.client=u.clientData._id,u.orderModel.tech={id:u.selectedTech._id,firstName:u.selectedTech.firstName,lastName:u.selectedTech.lastName};var t=new e.api(u.orderModel);t.$save(function(e){u.orderModel={},u.clientData=null,u.clientSearch={},u.clientList=null,r.$setPristine(),r.$setUntouched(),u.errorInfo.msg=null,u.successInfo.msg="Orden creada con exito",u.successInfo.data=e},function(e){u.successInfo.msg=null,u.errorInfo.msg=e.data})},u.searchClient=function(){u.clientSearch.number?(u.searchWord=u.clientSearch.number,o(u.clientSearch.number,"null")):u.clientSearch.lastName&&(u.searchWord=u.clientSearch.lastName,o("null",u.clientSearch.lastName))},u.searchOrder=function(){u.orderSearch.number?(u.searchWord=u.orderSearch.number,s(u.orderSearch.number,"null")):u.orderSearch.lastName&&(u.searchWord=u.orderSearch.lastName,s("null",u.orderSearch.lastName))},u.remove=function(e){var r=i.confirm("Quieres eliminar la orden N° #"+e.number+" ?");r&&(e.$remove(),u.orderList=u.orderList.filter(function(r){return r._id!==e._id}))},u.findOne=function(r){e.api.get({id:a.id},function(e){u.orderModel=e,r&&(u.selectedTech=u.users.filter(function(e){return e._id===u.orderModel.tech.id}),u.selectedTech=u.selectedTech[0])})},u.update=function(e){u.orderModel.tech={id:u.selectedTech._id,firstName:u.selectedTech.firstName,lastName:u.selectedTech.lastName},u.orderModel.$update(function(r){e.$setPristine(),e.$setUntouched(),u.errorInfo.msg=null,u.successInfo.msg="Orden editada con éxito",u.successInfo.data=r},function(e){u.successInfo.msg=null,u.errorInfo.msg=e.data})},u.getAllUsers=function(){t.api.query(function(e){u.users=e.filter(function(e){return"Tech"===e.role})})}}function dlKeyCode(){return{restrict:"A",link:function(e,r,t){r.bind("keypress",function(r){var n=r.which||r.keyCode;n==t.code&&e.$apply(function(){e.$eval(t.dlKeyCode,{$event:r})})})}}}function UserServ(e,r,t,n){this.getCurrentUserData=function(){var t=e.get("jwt");if(t){var n=r.decodeToken(t);return n}return!1},this.isAdmin=function(){var e=this.getCurrentUserData();return"Admin"==e.role},this.logout=function(){var r=this.getCurrentUserData();n.logout.get({id:r._id},function(){e.remove("jwt"),t.location.href="/"})}}var appConfiguration=function(){var e="main",r=["ngResource","ui.router","angular-jwt","angular-storage","ngMessages"],t=function(r,t){angular.module(r,t||[]),angular.module(e).requires.push(r)};return{appName:e,appDependencies:r,registerModule:t}}();angular.module(appConfiguration.appName,appConfiguration.appDependencies),appConfiguration.registerModule("client"),appConfiguration.registerModule("order"),appConfiguration.registerModule("user"),angular.module("client").config(["$stateProvider",function(e){e.state("clientPanel",{url:"/clients",templateUrl:"modules/client/views/client-panel.client.view.html",data:{requiresLogin:!0,requiresAdmin:!0}}).state("editClient",{url:"/clients/:id/edit",templateUrl:"modules/client/views/edit-client.client.view.html",data:{requiresLogin:!0,requiresAdmin:!0}})}]),angular.module("client").controller("ClientCtrl",["Clients","$http","$window","$stateParams",ClientCtrl]),angular.module("client").factory("Clients",["$resource",function(e){var r=e("api/clients/:id",{id:"@_id"},{update:{method:"PUT"}}),t=e("api/clients/:id/search/:number/:lastName",{id:"@_id",number:"number",lastName:"lastName"});return{api:r,search:t}}]),angular.module("main").config(["$stateProvider","$locationProvider","$urlRouterProvider",function(e,r,t){t.otherwise("/"),e.state("dashboard",{url:"/",templateUrl:"modules/main/views/dashboard.client.view.html",data:{requiresLogin:!0}})}]),angular.module("main").controller("mainCtrl",["UserServ","Orders","$location","$rootScope",mainCtrl]),angular.module("main").directive("ngEnter",function(){return function(e,r,t){r.bind("keydown keypress",function(r){13===r.which&&(e.$apply(function(){e.$eval(t.ngEnter,{event:r})}),r.preventDefault())})}}),angular.module("order").config(["$stateProvider",function(e){e.state("orderPanel",{url:"/orders",templateUrl:"modules/order/views/order-panel.client.view.html",data:{requiresLogin:!0,requiresAdmin:!0}}).state("editorder",{url:"/orders/:id/edit",templateUrl:"modules/order/views/edit-order.client.view.html",data:{requiresLogin:!0}}).state("orderDetail",{url:"/orders/:id",templateUrl:"modules/order/views/order-detail.client.view.html",data:{requiresLogin:!0}})}]),angular.module("order").controller("OrderCtrl",["Orders","Clients","Users","$http","$window","$stateParams",OrderCtrl]),angular.module("order").directive("dlKeyCode",dlKeyCode),angular.module("order").factory("Orders",["$resource",function(e){var r=e("api/orders/:id",{id:"@_id"},{update:{method:"PUT"}}),t=e("api/orders/:id/search/:number/:lastName",{id:"@_id",number:"number",lastName:"lastName"});return{api:r,search:t}}]),angular.module("user").config(["$stateProvider","jwtInterceptorProvider","$httpProvider",function(e,r,t){e.state("signup",{url:"/signup",templateUrl:"modules/user/views/signup.client.view.html",data:{requiresLogin:!1}}).state("signin",{url:"/signin",templateUrl:"modules/user/views/signin.client.view.html",data:{requiresLogin:!1}}).state("userList",{url:"/users",templateUrl:"modules/user/views/user-list.client.view.html",data:{requiresLogin:!0,requiresAdmin:!0}}).state("editUser",{url:"/users/:id/edit",templateUrl:"modules/user/views/user-edit.client.view.html",data:{requiresLogin:!0,requiresAdmin:!0}}),r.tokenGetter=["jwtHelper","$http","store","$window",function(e,r,t,n){var i=t.get("jwt");try{return e.isTokenExpired(i)?r({url:"http://localhost:7000/api/users/refresh",skipAuthorization:!0,method:"POST",data:{token:i}}).then(function(e){var r=e.data.token;return t.set("jwt",r),r},function(e){return console.log(e),t.remove("jwt"),n.location.href="/user#/signin",!1}):i}catch(a){return t.remove("jwt"),!1}}],t.interceptors.push("jwtInterceptor")}]).run(["$rootScope","$window","store","$location","UserServ",function(e,r,t,n,i){e.$on("$stateChangeStart",function(e,a){"#/signin"==r.location.hash&&"/panel"==r.location.pathname&&(r.location.href="/user#/signin"),"#/signup"==r.location.hash&&"/panel"==r.location.pathname&&(r.location.href="/user#/signup"),a.data&&a.data.requiresLogin&&(t.get("jwt")?a.data.requiresAdmin&&!i.isAdmin()?r.location.href="/panel":"/user"==r.location.pathname&&"#/"==r.location.hash&&(r.location.href="/panel"):n.path("signin"))})}]),angular.module("user").controller("UserController",["$window","Users","UserServ","$http","store","jwtHelper","$stateParams","$state",function(e,r,t,n,i,a,o,s){var u=this;u.user={},u.errorInfo={},u.publicSignup=function(){var t=new r.api(u.user);t.$save(function(r){i.set("jwt",r.token),e.location.href="/panel"},function(e){u.errorInfo=e.data})},u.signup=function(){u.user.role?(u.user.code="yb9b637i2v",u.user.role="Admin"):(u.user.code="dw77yee18u",u.user.role="Tech");var e=new r.api(u.user);e.$save(function(e){u.users.push(e.data),u.user={}},function(e){u.errorInfo=e.data})},u.signin=function(){var t=new r.signin(u.user);t.$save(function(r){i.set("jwt",r.token),e.location.href="/panel#/"},function(e){u.errorInfo=e.data})},u.getAll=function(){r.api.query(function(e){u.users=e.filter(function(e){return e._id!==u.currentUser._id})})},u.getOne=function(){r.api.get({id:o.id},function(e){u.user=e})},u.getCurrentUser=function(){u.currentUser=t.getCurrentUserData()},u.update=function(){u.user.$update(function(e){s.go("userList")},function(e){u.errorInfo=e.data})},u.remove=function(r){var t=e.confirm("Quieres eliminar el usuario "+r.firstName+" "+r.lastName+" ?");t&&(r.$remove(),u.users=u.users.filter(function(e){return e._id!==r._id}))}}]),angular.module("user").directive("compareTo",[function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,r,t,n){n.$validators.compareTo=function(r){return r==e.otherModelValue},e.$watch("otherModelValue",function(){n.$validate()})}}}]),angular.module("user").directive("recordAvailabilityValidator",["$http","Users",function(e,r){return{require:"ngModel",link:function(e,t,n,i){function a(e){i.$setValidity("recordLoading",!e)}function o(e){i.$setValidity("recordAvailable",e)}i.$parsers.push(function(e){if(e&&0!==e.length){a(!0),o(!1);var t=r.search.get({email:e},function(){null===t.data&&(a(!1),o(!0))});return e}})}}}]),angular.module("user").service("UserServ",["store","jwtHelper","$window","Users",UserServ]),angular.module("user").factory("Users",["$resource",function(e){var r=e("api/users/:id",{id:"@_id"},{update:{method:"PUT"}}),t=e("api/users/signin"),n=e("api/users/logout/:id",{id:"@_id"}),i=e("api/users/search/:email",{email:"@email"});return{api:r,signin:t,logout:n,search:i}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC9jb250cm9sbGVycy9jbGllbnQuY2xpZW50LmNvbnRyb2xsZXIuanMiLCJtYWluL2NvbnRyb2xsZXJzL21haW4uY2xpZW50LmNvbnRyb2xsZXIuanMiLCJvcmRlci9jb250cm9sbGVycy9vcmRlci5jbGllbnQuY29udHJvbGxlci5qcyIsIm9yZGVyL2RpcmVjdGl2ZXMvb3JkZXIuZGlyZWN0aXZlcy5qcyIsInVzZXIvc2VydmljZXMvdXNlci1zZXJ2LmNsaWVudC5zZXJ2aWNlLmpzIiwiY29uZmlnLWFwcC5qcyIsIm1haW4tYXBwLmpzIiwiY2xpZW50L2NsaWVudC5jbGllbnQucmVnaXN0ZXIuanMiLCJvcmRlci9vcmRlci5jbGllbnQucmVnaXN0ZXIuanMiLCJ1c2VyL3VzZXIuY2xpZW50LnJlZ2lzdGVyLmpzIiwiY2xpZW50L2NvbmZpZy9jbGllbnQuY2xpZW50LnJvdXRlcy5qcyIsImNsaWVudC9zZXJ2aWNlcy9jbGllbnQuY2xpZW50LnNlcnZpY2UuanMiLCJtYWluL2NvbmZpZy9tYWluLmNsaWVudC5yb3V0ZXMuanMiLCJtYWluL2RpcmVjdGl2ZXMvbmdFbnRlci5kaXJlY3RpdmUuanMiLCJvcmRlci9jb25maWcvb3JkZXIuY2xpZW50LnJvdXRlcy5qcyIsIm9yZGVyL3NlcnZpY2VzL29yZGVyLmNsaWVudC5zZXJ2aWNlLmpzIiwidXNlci9jb25maWcvdXNlci5jbGllbnQucm91dGVzLmpzIiwidXNlci9jb250cm9sbGVycy91c2VyLmNsaWVudC5jb250cm9sbGVyLmpzIiwidXNlci9zZXJ2aWNlcy91c2VyLmNsaWVudC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIkNsaWVudEN0cmwiLCJDbGllbnRzIiwiJGh0dHAiLCIkd2luZG93IiwiJHN0YXRlUGFyYW1zIiwiZ2V0Q2xpZW50IiwibnVtYmVyIiwibGFzdE5hbWUiLCJzZWFyY2giLCJxdWVyeSIsImlkIiwicmVzcG9uc2UiLCJ2bSIsImNsaWVudExpc3QiLCJtYXN0ZXJNb2RlbCIsInRoaXMiLCJjbGllbnRNb2RlbCIsImNsaWVudFNlYXJjaCIsImVycm9ySW5mbyIsIm1zZyIsImRhdGEiLCJzdWNjZXNzSW5mbyIsImNyZWF0ZSIsImZvcm0iLCJuZXdDbGllbnQiLCJhcGkiLCIkc2F2ZSIsInJlcyIsImFuZ3VsYXIiLCJjb3B5IiwiJHNldFByaXN0aW5lIiwiJHNldFVudG91Y2hlZCIsImVyciIsInNlYXJjaFdvcmQiLCJyZW1vdmUiLCJjbGllbnQiLCJjb25maXJtIiwiZmlyc3ROYW1lIiwiJHJlbW92ZSIsImZpbHRlciIsImUiLCJfaWQiLCJmaW5kT25lIiwiZ2V0IiwidXBkYXRlIiwiJHVwZGF0ZSIsIm1haW5DdHJsIiwiVXNlclNlcnYiLCJPcmRlcnMiLCIkbG9jYXRpb24iLCIkcm9vdFNjb3BlIiwiJG9uIiwiJCRwYXRoIiwiY3VycmVudFNlY3Rpb24iLCJnZXRDdXJyZW50VXNlciIsImN1cnJlbnRVc2VyRGF0YSIsImdldEN1cnJlbnRVc2VyRGF0YSIsImxvZ291dCIsImdldE9yZGVycyIsInVzZXIiLCJpc0FkbWluIiwicm9sZSIsIm9yZGVycyIsIm9yZGVyc0NvbXBsZXRlIiwiYXJyIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImtleSIsInRlY2giLCJPcmRlckN0cmwiLCJVc2VycyIsImdldGNsaWVudCIsImdldG9yZGVyIiwib3JkZXJMaXN0Iiwib3JkZXJNb2RlbCIsIm9yZGVyU2VhcmNoIiwic29sdmVkT3B0Iiwib3JkZXJTdGF0dXMiLCJzZWxlY3RlZFRlY2giLCJjbGllbnREYXRhIiwibmV3b3JkZXIiLCJzZWFyY2hDbGllbnQiLCJzZWFyY2hPcmRlciIsIm9yZGVyIiwiZWRpdCIsInVzZXJzIiwiZ2V0QWxsVXNlcnMiLCJkbEtleUNvZGUiLCJyZXN0cmljdCIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsImJpbmQiLCJldmVudCIsImtleUNvZGUiLCJ3aGljaCIsImNvZGUiLCIkYXBwbHkiLCIkZXZhbCIsIiRldmVudCIsInN0b3JlIiwiand0SGVscGVyIiwidG9rZW4iLCJwYXlsb2FkIiwiZGVjb2RlVG9rZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJhcHBDb25maWd1cmF0aW9uIiwiYXBwTmFtZSIsImFwcERlcGVuZGVuY2llcyIsInJlZ2lzdGVyTW9kdWxlIiwibW9kdWxlTmFtZSIsIm1vZHVsZURlcGVuZGVuY2llcyIsIm1vZHVsZSIsInJlcXVpcmVzIiwicHVzaCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsInJlcXVpcmVzTG9naW4iLCJyZXF1aXJlc0FkbWluIiwiY29udHJvbGxlciIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJtZXRob2QiLCIkbG9jYXRpb25Qcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsImRpcmVjdGl2ZSIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0Iiwiand0SW50ZXJjZXB0b3JQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCJ0b2tlbkdldHRlciIsImlkVG9rZW4iLCJpc1Rva2VuRXhwaXJlZCIsInNraXBBdXRob3JpemF0aW9uIiwidGhlbiIsImlkX3Rva2VuIiwic2V0IiwiY29uc29sZSIsImxvZyIsImludGVyY2VwdG9ycyIsInJ1biIsInRvIiwiaGFzaCIsInBhdGhuYW1lIiwicGF0aCIsIiRzdGF0ZSIsInB1YmxpY1NpZ251cCIsIm5ld1VzZXIiLCJzaWdudXAiLCJzaWduaW4iLCJnZXRBbGwiLCJjdXJyZW50VXNlciIsImdldE9uZSIsImdvIiwicmVxdWlyZSIsIm90aGVyTW9kZWxWYWx1ZSIsImF0dHJpYnV0ZXMiLCJuZ01vZGVsIiwiJHZhbGlkYXRvcnMiLCJjb21wYXJlVG8iLCJtb2RlbFZhbHVlIiwiJHdhdGNoIiwiJHZhbGlkYXRlIiwic2V0QXNMb2FkaW5nIiwiYm9vbCIsIiRzZXRWYWxpZGl0eSIsInNldEFzQXZhaWxhYmxlIiwiJHBhcnNlcnMiLCJ2YWx1ZSIsImxlbmd0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QUFBLFdBQ0FKLEVBQUFLLG1CQU1BaEosUUFBQXVGLE9BQUEsUUFDQWlCLFVBQUEsK0JBQUEsUUFBQSxRQUFBLFNBQUFsSSxFQUFBcUUsR0FFQSxPQUNBNkYsUUFBQSxVQUNBMUUsS0FBQSxTQUFBMkMsRUFBQUMsRUFBQUMsRUFBQWdDLEdBR0EsUUFBQU0sR0FBQUMsR0FDQVAsRUFBQVEsYUFBQSxpQkFBQUQsR0FHQSxRQUFBRSxHQUFBRixHQUNBUCxFQUFBUSxhQUFBLGtCQUFBRCxHQUdBUCxFQUFBVSxTQUFBNUQsS0FBQSxTQUFBNkQsR0FDQSxHQUFBQSxHQUFBLElBQUFBLEVBQUFDLE9BQUEsQ0FFQU4sR0FBQSxHQUNBRyxHQUFBLEVBR0EsSUFBQTVKLEdBQUFtRCxFQUFBL0QsT0FBQW1DLEtBQ0F5SSxNQUFBRixHQUNBLFdBQ0EsT0FBQTlKLEVBQUFBLE9BQ0F5SixHQUFBLEdBQ0FHLEdBQUEsS0FHQSxPQUFBRSxXYmxIQXRKLFFBQ0F1RixPQUFBLFFBQ0FrRSxRQUFBLFlBQUEsUUFBQSxZQUFBLFVBQUEsUUFBQXRJLFdjakNBbkIsUUFBQXVGLE9BQUEsUUFBQVcsUUFBQSxTQUFBLFlBQUEsU0FBQUMsR0FFQSxHQUFBdEcsR0FBQXNHLEVBQUEsaUJBQ0FySCxHQUFBLFNBRUFrQyxRQUNBb0YsT0FBQSxTQUlBK0IsRUFBQWhDLEVBQUEsb0JBRUF0RSxFQUFBc0UsRUFBQSx3QkFDQXJILEdBQUEsU0FHQUYsRUFBQXVILEVBQUEsMkJBQ0FxRCxNQUFBLFVBR0EsUUFDQTNKLElBQUFBLEVBQ0FzSSxPQUFBQSxFQUNBdEcsT0FBQUEsRUFDQWpELE9BQUFBIiwiZmlsZSI6ImNvbXByZXNzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENsaWVudEN0cmwoQ2xpZW50cywgJGh0dHAsICR3aW5kb3csICRzdGF0ZVBhcmFtcykge1xyXG4gIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gIHZhciBtYXN0ZXJNb2RlbDtcclxuXHJcbiAgdm0uY2xpZW50TW9kZWwgPSB7fTtcclxuICB2bS5jbGllbnRTZWFyY2ggPSB7fTtcclxuICB2bS5lcnJvckluZm8gPSB7XHJcbiAgICBtc2c6IG51bGwsXHJcbiAgICBkYXRhOiBudWxsXHJcbiAgfTtcclxuICB2bS5zdWNjZXNzSW5mbyA9IHtcclxuICAgIG1zZzogbnVsbCxcclxuICAgIGRhdGE6IG51bGxcclxuICB9O1xyXG5cclxuICB2bS5jcmVhdGUgPSBmdW5jdGlvbihmb3JtKSB7XHJcbiAgICB2YXIgbmV3Q2xpZW50ID0gbmV3IENsaWVudHMuYXBpKHZtLmNsaWVudE1vZGVsKTtcclxuXHJcbiAgICBuZXdDbGllbnQuJHNhdmUoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgIC8vcmVzZXQgZm9ybVxyXG4gICAgICBhbmd1bGFyLmNvcHkobWFzdGVyTW9kZWwsIHZtLmNsaWVudE1vZGVsKTtcclxuICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XHJcbiAgICAgIC8vYWxlcnRcclxuICAgICAgdm0uZXJyb3JJbmZvLm1zZyA9IG51bGw7XHJcbiAgICAgIHZtLnN1Y2Nlc3NJbmZvLm1zZyA9ICdDbGllbnRlIGNyZWFkbyBjb24gZXhpdG8nO1xyXG4gICAgICB2bS5zdWNjZXNzSW5mby5kYXRhID0gcmVzO1xyXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgIC8vYWxlcnRcclxuICAgICAgdm0uc3VjY2Vzc0luZm8ubXNnID0gbnVsbDtcclxuICAgICAgdm0uZXJyb3JJbmZvLm1zZyA9IGVyci5kYXRhO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdm0uc2VhcmNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodm0uY2xpZW50U2VhcmNoLm51bWJlcikge1xyXG4gICAgICB2bS5zZWFyY2hXb3JkID0gdm0uY2xpZW50U2VhcmNoLm51bWJlcjtcclxuICAgICAgZ2V0Q2xpZW50KHZtLmNsaWVudFNlYXJjaC5udW1iZXIsICdudWxsJyk7XHJcbiAgICB9IGVsc2UgaWYgKHZtLmNsaWVudFNlYXJjaC5sYXN0TmFtZSkge1xyXG4gICAgICB2bS5zZWFyY2hXb3JkID0gdm0uY2xpZW50U2VhcmNoLmxhc3ROYW1lO1xyXG4gICAgICBnZXRDbGllbnQoJ251bGwnLCB2bS5jbGllbnRTZWFyY2gubGFzdE5hbWUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZtLnJlbW92ZSA9IGZ1bmN0aW9uKGNsaWVudCkge1xyXG4gICAgdmFyIGNvbmZpcm0gPSAkd2luZG93LmNvbmZpcm0oJ1F1aWVyZXMgZWxpbWluYXIgYSAnICsgY2xpZW50LmZpcnN0TmFtZSArICcgJyArIGNsaWVudC5sYXN0TmFtZSArICcgPycpO1xyXG5cclxuICAgIGlmIChjb25maXJtKSB7XHJcbiAgICAgIGNsaWVudC4kcmVtb3ZlKCk7XHJcbiAgICAgIHZtLmNsaWVudExpc3QgPSB2bS5jbGllbnRMaXN0LmZpbHRlcihmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgcmV0dXJuIGUuX2lkICE9PSBjbGllbnQuX2lkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2bS5maW5kT25lID0gZnVuY3Rpb24oKSB7XHJcbiAgICBDbGllbnRzLmFwaS5nZXQoe1xyXG4gICAgICBpZDogJHN0YXRlUGFyYW1zLmlkXHJcbiAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICB2bS5jbGllbnRNb2RlbCA9IHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdm0udXBkYXRlID0gZnVuY3Rpb24oZm9ybSl7XHJcbiAgICB2bS5jbGllbnRNb2RlbC4kdXBkYXRlKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAvL3Jlc2V0IGZvcm1cclxuICAgICAgZm9ybS4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgZm9ybS4kc2V0VW50b3VjaGVkKCk7XHJcbiAgICAgIC8vYWxlcnRcclxuICAgICAgdm0uZXJyb3JJbmZvLm1zZyA9IG51bGw7XHJcbiAgICAgIHZtLnN1Y2Nlc3NJbmZvLm1zZyA9ICdDbGllbnRlIGVkaXRhZG8gY29uIGV4aXRvJztcclxuICAgICAgdm0uc3VjY2Vzc0luZm8uZGF0YSA9IHJlcztcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAvL2FsZXJ0XHJcbiAgICAgIHZtLnN1Y2Nlc3NJbmZvLm1zZyA9IG51bGw7XHJcbiAgICAgIHZtLmVycm9ySW5mby5tc2cgPSBlcnIuZGF0YTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIGZ1bmN0b24gaGVscGVycyAocHJpdmF0ZSlcclxuICBmdW5jdGlvbiBnZXRDbGllbnQobnVtYmVyLCBsYXN0TmFtZSkge1xyXG4gICAgQ2xpZW50cy5zZWFyY2gucXVlcnkoe1xyXG4gICAgICAnaWQnOiBudWxsLFxyXG4gICAgICAnbnVtYmVyJzogbnVtYmVyLFxyXG4gICAgICAnbGFzdE5hbWUnOiBsYXN0TmFtZVxyXG4gICAgfSwgZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICB2bS5jbGllbnRMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICB9KTsgIFxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmFuZ3VsYXJcclxuICAubW9kdWxlKCdjbGllbnQnKVxyXG4gIC5jb250cm9sbGVyKCdDbGllbnRDdHJsJywgWydDbGllbnRzJywgJyRodHRwJywgJyR3aW5kb3cnLCAnJHN0YXRlUGFyYW1zJywgQ2xpZW50Q3RybF0pO1xyXG4vLyBhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbi8vICAgLmRpcmVjdGl2ZSgncmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yJywgWyckaHR0cCcsICdVc2VycycsIGZ1bmN0aW9uKCRodHRwLCBVc2Vycykge1xyXG5cclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuLy8gICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbi8vICAgICAgICAgLy92YXIgYXBpVXJsID0gYXR0cnMucmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yO1xyXG5cclxuLy8gICAgICAgICBmdW5jdGlvbiBzZXRBc0xvYWRpbmcoYm9vbCkge1xyXG4vLyAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlY29yZExvYWRpbmcnLCAhYm9vbCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBmdW5jdGlvbiBzZXRBc0F2YWlsYWJsZShib29sKSB7XHJcbi8vICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncmVjb3JkQXZhaWxhYmxlJywgYm9vbCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuLy8gICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgc2V0QXNMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgICAgICAgc2V0QXNBdmFpbGFibGUoZmFsc2UpO1xyXG5cclxuLy8gICAgICAgICAgIC8vIHVzaW5nIHJlc291cmNlXHJcbi8vICAgICAgICAgICB2YXIgZGF0YSA9IFVzZXJzLnNlYXJjaC5nZXQoe1xyXG4vLyAgICAgICAgICAgICBuYW1lOiB2YWx1ZVxyXG4vLyAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgPT09ICcnKSB7XHJcbi8vICAgICAgICAgICAgICAgc2V0QXNMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgICAgICAgICAgICBzZXRBc0F2YWlsYWJsZSh0cnVlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH07XHJcbi8vICAgfV0pOyIsImZ1bmN0aW9uIG1haW5DdHJsKFVzZXJTZXJ2LCBPcmRlcnMsICRsb2NhdGlvbiwgJHJvb3RTY29wZSkge1xyXG5cdHZhciB2bSA9IHRoaXM7XHJcblxyXG5cdC8vIHNldCBzZWN0aW9uIG5hbWVcclxuXHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuXHRcdHN3aXRjaCAoJGxvY2F0aW9uLiQkcGF0aCkge1xyXG5cdFx0XHRjYXNlICcvJzpcclxuXHRcdFx0XHR2bS5jdXJyZW50U2VjdGlvbiA9ICdEYXNoYm9hcmQnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICcvY2xpZW50cyc6XHJcblx0XHRcdFx0dm0uY3VycmVudFNlY3Rpb24gPSAnQ2xpZW50ZXMnO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICcvb3JkZXJzJzpcclxuXHRcdFx0XHR2bS5jdXJyZW50U2VjdGlvbiA9ICdPcmRlbmVzJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnL3VzZXJzJzpcclxuXHRcdFx0XHR2bS5jdXJyZW50U2VjdGlvbiA9ICdVc3Vhcmlvcyc7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cclxuXHR2bS5nZXRDdXJyZW50VXNlciA9IChmdW5jdGlvbigpIHtcclxuXHRcdHZtLmN1cnJlbnRVc2VyRGF0YSA9IFVzZXJTZXJ2LmdldEN1cnJlbnRVc2VyRGF0YSgpO1xyXG5cdH0pKCk7XHJcblxyXG5cdHZtLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dm0uY3VycmVudFVzZXJEYXRhID0ge307XHJcblx0XHRVc2VyU2Vydi5sb2dvdXQoKTtcclxuXHR9O1xyXG5cclxuXHR2bS5nZXRPcmRlcnMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB1c2VyID0gdm0uY3VycmVudFVzZXJEYXRhO1xyXG5cdFx0dm0uaXNBZG1pbiA9ICh1c2VyLnJvbGUgPT0gJ0FkbWluJykgPyB0cnVlIDogZmFsc2U7XHJcblxyXG5cdFx0aWYgKHZtLmlzQWRtaW4pIHtcclxuXHRcdFx0T3JkZXJzLmFwaS5xdWVyeShmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHZtLm9yZGVycyA9IHJlc3BvbnNlWzBdO1xyXG5cdFx0XHRcdHZtLm9yZGVyc0NvbXBsZXRlID0gcmVzcG9uc2VbMV07XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0T3JkZXJzLmFwaS5xdWVyeShmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdC8vIGNvbnZlcnQgb2JqZWN0IHRvIGFycmF5XHJcblx0XHRcdFx0dmFyIG9yZGVycyA9IHJlc3BvbnNlWzBdO1xyXG5cdFx0XHRcdHZhciBhcnIgPSBPYmplY3Qua2V5cyhvcmRlcnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7cmV0dXJuIG9yZGVyc1trZXldfSk7XHJcblx0XHRcdFx0Ly8gZmlsdGVyIGJ5IGN1cnJlbnQgdXNlclxyXG5cdFx0XHRcdHZtLm9yZGVycyA9IGFyci5maWx0ZXIoZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGUudGVjaC5pZCA9PSB1c2VyLl9pZDtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG59XHJcblxyXG5hbmd1bGFyXHJcblx0Lm1vZHVsZSgnbWFpbicpXHJcblx0LmNvbnRyb2xsZXIoJ21haW5DdHJsJywgWydVc2VyU2VydicsICdPcmRlcnMnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCBtYWluQ3RybF0pOyIsImZ1bmN0aW9uIE9yZGVyQ3RybChPcmRlcnMsIENsaWVudHMsIFVzZXJzLCAkaHR0cCwgJHdpbmRvdywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgdm0ub3JkZXJNb2RlbCA9IHt9O1xyXG4gIHZtLm9yZGVyU2VhcmNoID0ge307XHJcbiAgdm0uZXJyb3JJbmZvID0ge1xyXG4gICAgbXNnOiBudWxsLFxyXG4gICAgZGF0YTogbnVsbFxyXG4gIH07XHJcbiAgdm0uc3VjY2Vzc0luZm8gPSB7XHJcbiAgICBtc2c6IG51bGwsXHJcbiAgICBkYXRhOiBudWxsXHJcbiAgfTtcclxuICB2bS5zb2x2ZWRPcHQgPSBbJ05vJywgJ1NpJ107XHJcbiAgdm0ub3JkZXJTdGF0dXMgPSBbJ0NhbmNlbGFkYScsICdBc2lnbmFkYScsICdDb21wbGV0YWRhJ107XHJcbiAgdm0uc2VsZWN0ZWRUZWNoID0gJyc7XHJcblxyXG4gIHZtLmNyZWF0ZSA9IGZ1bmN0aW9uKGZvcm0pIHtcclxuICAgIC8vIGFzaW5nIGF0dHJcclxuICAgIHZtLm9yZGVyTW9kZWwuY2xpZW50ID0gdm0uY2xpZW50RGF0YS5faWQ7XHJcbiAgICB2bS5vcmRlck1vZGVsLnRlY2ggPSB7XHJcbiAgICAgIGlkOiB2bS5zZWxlY3RlZFRlY2guX2lkLFxyXG4gICAgICBmaXJzdE5hbWU6IHZtLnNlbGVjdGVkVGVjaC5maXJzdE5hbWUsXHJcbiAgICAgIGxhc3ROYW1lOiB2bS5zZWxlY3RlZFRlY2gubGFzdE5hbWVcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG5ld29yZGVyID0gbmV3IE9yZGVycy5hcGkodm0ub3JkZXJNb2RlbCk7XHJcblxyXG4gICAgbmV3b3JkZXIuJHNhdmUoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgIC8vcmVzZXQgZm9ybVxyXG4gICAgICB2bS5vcmRlck1vZGVsID0ge307XHJcbiAgICAgIHZtLmNsaWVudERhdGEgPSBudWxsO1xyXG4gICAgICB2bS5jbGllbnRTZWFyY2ggPSB7fTtcclxuICAgICAgdm0uY2xpZW50TGlzdCA9IG51bGw7XHJcbiAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XHJcbiAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xyXG4gICAgICAvL2FsZXJ0XHJcbiAgICAgIHZtLmVycm9ySW5mby5tc2cgPSBudWxsO1xyXG4gICAgICB2bS5zdWNjZXNzSW5mby5tc2cgPSAnT3JkZW4gY3JlYWRhIGNvbiBleGl0byc7XHJcbiAgICAgIHZtLnN1Y2Nlc3NJbmZvLmRhdGEgPSByZXM7XHJcbiAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgLy9hbGVydFxyXG4gICAgICB2bS5zdWNjZXNzSW5mby5tc2cgPSBudWxsO1xyXG4gICAgICB2bS5lcnJvckluZm8ubXNnID0gZXJyLmRhdGE7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2bS5zZWFyY2hDbGllbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh2bS5jbGllbnRTZWFyY2gubnVtYmVyKSB7XHJcbiAgICAgIHZtLnNlYXJjaFdvcmQgPSB2bS5jbGllbnRTZWFyY2gubnVtYmVyO1xyXG4gICAgICBnZXRjbGllbnQodm0uY2xpZW50U2VhcmNoLm51bWJlciwgJ251bGwnKTtcclxuICAgIH0gZWxzZSBpZiAodm0uY2xpZW50U2VhcmNoLmxhc3ROYW1lKSB7XHJcbiAgICAgIHZtLnNlYXJjaFdvcmQgPSB2bS5jbGllbnRTZWFyY2gubGFzdE5hbWU7XHJcbiAgICAgIGdldGNsaWVudCgnbnVsbCcsIHZtLmNsaWVudFNlYXJjaC5sYXN0TmFtZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdm0uc2VhcmNoT3JkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh2bS5vcmRlclNlYXJjaC5udW1iZXIpIHtcclxuICAgICAgdm0uc2VhcmNoV29yZCA9IHZtLm9yZGVyU2VhcmNoLm51bWJlcjtcclxuICAgICAgZ2V0b3JkZXIodm0ub3JkZXJTZWFyY2gubnVtYmVyLCAnbnVsbCcpO1xyXG4gICAgfSBlbHNlIGlmICh2bS5vcmRlclNlYXJjaC5sYXN0TmFtZSkge1xyXG4gICAgICB2bS5zZWFyY2hXb3JkID0gdm0ub3JkZXJTZWFyY2gubGFzdE5hbWU7XHJcbiAgICAgIGdldG9yZGVyKCdudWxsJywgdm0ub3JkZXJTZWFyY2gubGFzdE5hbWUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZtLnJlbW92ZSA9IGZ1bmN0aW9uKG9yZGVyKSB7XHJcbiAgICB2YXIgY29uZmlybSA9ICR3aW5kb3cuY29uZmlybSgnUXVpZXJlcyBlbGltaW5hciBsYSBvcmRlbiBOwrAgIycgKyBvcmRlci5udW1iZXIgKyAnID8nKTtcclxuXHJcbiAgICBpZiAoY29uZmlybSkge1xyXG4gICAgICBvcmRlci4kcmVtb3ZlKCk7XHJcbiAgICAgIHZtLm9yZGVyTGlzdCA9IHZtLm9yZGVyTGlzdC5maWx0ZXIoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHJldHVybiBlLl9pZCAhPT0gb3JkZXIuX2lkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2bS5maW5kT25lID0gZnVuY3Rpb24oZWRpdCkge1xyXG4gICAgT3JkZXJzLmFwaS5nZXQoe1xyXG4gICAgICBpZDogJHN0YXRlUGFyYW1zLmlkXHJcbiAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICB2bS5vcmRlck1vZGVsID0gcmVzcG9uc2U7XHJcbiAgICAgIC8vIHNldCB0ZWNoIGZvciBzZWxlY3QgaW4gZWRpdCBmb3JtXHJcbiAgICAgIGlmIChlZGl0KSB7XHJcbiAgICAgICAgdm0uc2VsZWN0ZWRUZWNoID0gdm0udXNlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHJldHVybiBlLl9pZCA9PT0gdm0ub3JkZXJNb2RlbC50ZWNoLmlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZtLnNlbGVjdGVkVGVjaCA9IHZtLnNlbGVjdGVkVGVjaFswXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdm0udXBkYXRlID0gZnVuY3Rpb24oZm9ybSkge1xyXG4gICAgdm0ub3JkZXJNb2RlbC50ZWNoID0ge1xyXG4gICAgICBpZDogdm0uc2VsZWN0ZWRUZWNoLl9pZCxcclxuICAgICAgZmlyc3ROYW1lOiB2bS5zZWxlY3RlZFRlY2guZmlyc3ROYW1lLFxyXG4gICAgICBsYXN0TmFtZTogdm0uc2VsZWN0ZWRUZWNoLmxhc3ROYW1lXHJcbiAgICB9O1xyXG5cclxuICAgIHZtLm9yZGVyTW9kZWwuJHVwZGF0ZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgLy9yZXNldCBmb3JtXHJcbiAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XHJcbiAgICAgIGZvcm0uJHNldFVudG91Y2hlZCgpO1xyXG4gICAgICAvL2FsZXJ0XHJcbiAgICAgIHZtLmVycm9ySW5mby5tc2cgPSBudWxsO1xyXG4gICAgICB2bS5zdWNjZXNzSW5mby5tc2cgPSAnT3JkZW4gZWRpdGFkYSBjb24gw6l4aXRvJztcclxuICAgICAgdm0uc3VjY2Vzc0luZm8uZGF0YSA9IHJlcztcclxuICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAvL2FsZXJ0XHJcbiAgICAgIHZtLnN1Y2Nlc3NJbmZvLm1zZyA9IG51bGw7XHJcbiAgICAgIHZtLmVycm9ySW5mby5tc2cgPSBlcnIuZGF0YTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHZtLmdldEFsbFVzZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBVc2Vycy5hcGkucXVlcnkoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgdm0udXNlcnMgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHJldHVybiBlLnJvbGUgPT09ICdUZWNoJztcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBmdW5jdG9uIGhlbHBlcnMgKHByaXZhdGUpXHJcbiAgZnVuY3Rpb24gZ2V0Y2xpZW50KG51bWJlciwgbGFzdE5hbWUpIHtcclxuICAgIENsaWVudHMuc2VhcmNoLnF1ZXJ5KHtcclxuICAgICAgJ2lkJzogbnVsbCxcclxuICAgICAgJ251bWJlcic6IG51bWJlcixcclxuICAgICAgJ2xhc3ROYW1lJzogbGFzdE5hbWVcclxuICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgIHZtLmNsaWVudExpc3QgPSByZXNwb25zZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0b3JkZXIobnVtYmVyLCBsYXN0TmFtZSkge1xyXG4gICAgT3JkZXJzLnNlYXJjaC5xdWVyeSh7XHJcbiAgICAgICdpZCc6IG51bGwsXHJcbiAgICAgICdudW1iZXInOiBudW1iZXIsXHJcbiAgICAgICdsYXN0TmFtZSc6IGxhc3ROYW1lXHJcbiAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICB2bS5vcmRlckxpc3QgPSByZXNwb25zZTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuYW5ndWxhclxyXG4gIC5tb2R1bGUoJ29yZGVyJylcclxuICAuY29udHJvbGxlcignT3JkZXJDdHJsJywgWydPcmRlcnMnLCAnQ2xpZW50cycsICdVc2VycycsICckaHR0cCcsICckd2luZG93JywgJyRzdGF0ZVBhcmFtcycsIE9yZGVyQ3RybF0pO1xyXG4vLyBhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbi8vICAgLmRpcmVjdGl2ZSgncmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yJywgWyckaHR0cCcsICdVc2VycycsIGZ1bmN0aW9uKCRodHRwLCBVc2Vycykge1xyXG5cclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuLy8gICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbi8vICAgICAgICAgLy92YXIgYXBpVXJsID0gYXR0cnMucmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yO1xyXG5cclxuLy8gICAgICAgICBmdW5jdGlvbiBzZXRBc0xvYWRpbmcoYm9vbCkge1xyXG4vLyAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlY29yZExvYWRpbmcnLCAhYm9vbCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBmdW5jdGlvbiBzZXRBc0F2YWlsYWJsZShib29sKSB7XHJcbi8vICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncmVjb3JkQXZhaWxhYmxlJywgYm9vbCk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuLy8gICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgICAgc2V0QXNMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgICAgICAgc2V0QXNBdmFpbGFibGUoZmFsc2UpO1xyXG5cclxuLy8gICAgICAgICAgIC8vIHVzaW5nIHJlc291cmNlXHJcbi8vICAgICAgICAgICB2YXIgZGF0YSA9IFVzZXJzLnNlYXJjaC5nZXQoe1xyXG4vLyAgICAgICAgICAgICBuYW1lOiB2YWx1ZVxyXG4vLyAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgPT09ICcnKSB7XHJcbi8vICAgICAgICAgICAgICAgc2V0QXNMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgICAgICAgICAgICBzZXRBc0F2YWlsYWJsZSh0cnVlKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH07XHJcbi8vICAgfV0pOyIsImFuZ3VsYXIubW9kdWxlKFwib3JkZXJcIikuZGlyZWN0aXZlKCdkbEtleUNvZGUnLCBkbEtleUNvZGUpO1xyXG5cclxuZnVuY3Rpb24gZGxLZXlDb2RlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5iaW5kKFwia2V5cHJlc3NcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSAkYXR0cnMuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZXZhbCgkYXR0cnMuZGxLZXlDb2RlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsImZ1bmN0aW9uIFVzZXJTZXJ2KHN0b3JlLCBqd3RIZWxwZXIsICR3aW5kb3csIFVzZXJzKSB7XHJcblxyXG5cdHRoaXMuZ2V0Q3VycmVudFVzZXJEYXRhID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdG9rZW4gPSBzdG9yZS5nZXQoJ2p3dCcpO1xyXG5cdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdHZhciBwYXlsb2FkID0gand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKTtcclxuXHRcdFx0cmV0dXJuIHBheWxvYWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dGhpcy5pc0FkbWluID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgcGF5bG9hZCA9IHRoaXMuZ2V0Q3VycmVudFVzZXJEYXRhKCk7XHJcblx0XHRpZiAocGF5bG9hZC5yb2xlID09ICdBZG1pbicpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dGhpcy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBwYXlsb2FkID0gdGhpcy5nZXRDdXJyZW50VXNlckRhdGEoKTtcclxuXHRcdFVzZXJzLmxvZ291dC5nZXQoe1xyXG5cdFx0XHRpZDogcGF5bG9hZC5faWRcclxuXHRcdH0sIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRzdG9yZS5yZW1vdmUoJ2p3dCcpO1xyXG5cdFx0XHQkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XHJcblx0XHR9KTtcclxuXHR9O1xyXG59XHJcblxyXG5hbmd1bGFyXHJcblx0Lm1vZHVsZSgndXNlcicpXHJcblx0LnNlcnZpY2UoJ1VzZXJTZXJ2JywgWydzdG9yZScsICdqd3RIZWxwZXInLCAnJHdpbmRvdycsICdVc2VycycsIFVzZXJTZXJ2XSk7IiwidmFyIGFwcENvbmZpZ3VyYXRpb24gPSAoZnVuY3Rpb24oKSB7XHJcblx0dmFyIGFwcE5hbWUgPSAnbWFpbic7XHJcblx0dmFyIGFwcERlcGVuZGVuY2llcyA9IFsnbmdSZXNvdXJjZScsICd1aS5yb3V0ZXInLCAnYW5ndWxhci1qd3QnLCAnYW5ndWxhci1zdG9yYWdlJywgJ25nTWVzc2FnZXMnXTtcclxuXHJcblx0Ly9NZXRob2QgZm9yIGFkZCBuZXcgbW9kdWxlc1xyXG5cdHZhciByZWdpc3Rlck1vZHVsZSA9IGZ1bmN0aW9uKG1vZHVsZU5hbWUsIG1vZHVsZURlcGVuZGVuY2llcykge1xyXG5cdFx0Ly8gQ3JlYXRlIG1vZHVsZVxyXG5cdFx0YW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgbW9kdWxlRGVwZW5kZW5jaWVzIHx8IFtdKTtcclxuXHJcblx0XHQvLyBBZGQgdGhlIG5ldyBtb2R1bGUgdG8gdGhlIGFuZ3VsYXIgY29uZmlnIGZpbGVcclxuXHRcdGFuZ3VsYXIubW9kdWxlKGFwcE5hbWUpLnJlcXVpcmVzLnB1c2gobW9kdWxlTmFtZSk7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGFwcE5hbWU6IGFwcE5hbWUsXHJcblx0XHRhcHBEZXBlbmRlbmNpZXM6IGFwcERlcGVuZGVuY2llcyxcclxuXHRcdHJlZ2lzdGVyTW9kdWxlOiByZWdpc3Rlck1vZHVsZVxyXG5cdH1cclxufSkgKCk7IiwiLy9EZWZpbmUgbWFpbiBtb2R1bGVcclxuYW5ndWxhci5tb2R1bGUoYXBwQ29uZmlndXJhdGlvbi5hcHBOYW1lLCBhcHBDb25maWd1cmF0aW9uLmFwcERlcGVuZGVuY2llcyk7IiwiYXBwQ29uZmlndXJhdGlvbi5yZWdpc3Rlck1vZHVsZSgnY2xpZW50Jyk7IiwiYXBwQ29uZmlndXJhdGlvbi5yZWdpc3Rlck1vZHVsZSgnb3JkZXInKTsiLCJhcHBDb25maWd1cmF0aW9uLnJlZ2lzdGVyTW9kdWxlKCd1c2VyJyk7IiwiYW5ndWxhci5tb2R1bGUoJ2NsaWVudCcpXHJcbiAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ2NsaWVudFBhbmVsJywge1xyXG4gICAgICAgIHVybDogJy9jbGllbnRzJyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvY2xpZW50L3ZpZXdzL2NsaWVudC1wYW5lbC5jbGllbnQudmlldy5odG1sJyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICByZXF1aXJlc0xvZ2luOiB0cnVlLFxyXG4gICAgICAgICAgcmVxdWlyZXNBZG1pbjogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuc3RhdGUoJ2VkaXRDbGllbnQnLCB7XHJcbiAgICAgICAgdXJsOiAnL2NsaWVudHMvOmlkL2VkaXQnLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9jbGllbnQvdmlld3MvZWRpdC1jbGllbnQuY2xpZW50LnZpZXcuaHRtbCcsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgcmVxdWlyZXNMb2dpbjogdHJ1ZSxcclxuICAgICAgICAgIHJlcXVpcmVzQWRtaW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1dKTsiLCIvL0FydGljbGVzIHNlcnZpY2UgdXNlZCBmb3IgY29tbXVuaWNhdGluZyB3aXRoIHRoZSBhcnRpY2xlcyBSRVNUIGVuZHBvaW50c1xyXG5hbmd1bGFyLm1vZHVsZSgnY2xpZW50JykuZmFjdG9yeSgnQ2xpZW50cycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24oJHJlc291cmNlKSB7XHJcblxyXG5cdHZhciBhcGkgPSAkcmVzb3VyY2UoJ2FwaS9jbGllbnRzLzppZCcsIHtcclxuXHRcdGlkOiAnQF9pZCdcclxuXHR9LCB7XHJcblx0XHR1cGRhdGU6IHtcclxuXHRcdFx0bWV0aG9kOiAnUFVUJ1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHR2YXIgc2VhcmNoID0gJHJlc291cmNlKCdhcGkvY2xpZW50cy86aWQvc2VhcmNoLzpudW1iZXIvOmxhc3ROYW1lJywge1xyXG5cdFx0aWQ6ICdAX2lkJyxcclxuXHRcdG51bWJlcjogJ251bWJlcicsXHJcblx0XHRsYXN0TmFtZTogJ2xhc3ROYW1lJ1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0YXBpOiBhcGksXHJcblx0XHRzZWFyY2g6IHNlYXJjaFxyXG5cdH07XHJcbn1dKTsiLCJhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdtYWluJylcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIGhvbWUgdmlldyB3aGVuIHJvdXRlIG5vdCBmb3VuZFxyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuXHJcbiAgICAgICAgLy8gSG9tZSBzdGF0ZSByb3V0aW5nXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9tYWluL3ZpZXdzL2Rhc2hib2FyZC5jbGllbnQudmlldy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlc0xvZ2luOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB1c2UgdGhlIEhUTUw1IEhpc3RvcnkgQVBJXHJcbiAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG5cclxuICAgIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgnbWFpbicpXHJcbiAgICAuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJrZXlkb3duIGtleXByZXNzXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ0VudGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXZlbnQnOiBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdvcmRlcicpXHJcbiAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ29yZGVyUGFuZWwnLCB7XHJcbiAgICAgICAgdXJsOiAnL29yZGVycycsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL29yZGVyL3ZpZXdzL29yZGVyLXBhbmVsLmNsaWVudC52aWV3Lmh0bWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzTG9naW46IHRydWUsXHJcbiAgICAgICAgICByZXF1aXJlc0FkbWluOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5zdGF0ZSgnZWRpdG9yZGVyJywge1xyXG4gICAgICAgIHVybDogJy9vcmRlcnMvOmlkL2VkaXQnLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9vcmRlci92aWV3cy9lZGl0LW9yZGVyLmNsaWVudC52aWV3Lmh0bWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzTG9naW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pLnN0YXRlKCdvcmRlckRldGFpbCcsIHtcclxuICAgICAgICB1cmw6ICcvb3JkZXJzLzppZCcsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL29yZGVyL3ZpZXdzL29yZGVyLWRldGFpbC5jbGllbnQudmlldy5odG1sJyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICByZXF1aXJlc0xvZ2luOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XSk7IiwiLy9BcnRpY2xlcyBzZXJ2aWNlIHVzZWQgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgYXJ0aWNsZXMgUkVTVCBlbmRwb2ludHNcclxuYW5ndWxhci5tb2R1bGUoJ29yZGVyJykuZmFjdG9yeSgnT3JkZXJzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbigkcmVzb3VyY2UpIHtcclxuXHJcblx0dmFyIGFwaSA9ICRyZXNvdXJjZSgnYXBpL29yZGVycy86aWQnLCB7XHJcblx0XHRpZDogJ0BfaWQnXHJcblx0fSwge1xyXG5cdFx0dXBkYXRlOiB7XHJcblx0XHRcdG1ldGhvZDogJ1BVVCdcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0dmFyIHNlYXJjaCA9ICRyZXNvdXJjZSgnYXBpL29yZGVycy86aWQvc2VhcmNoLzpudW1iZXIvOmxhc3ROYW1lJywge1xyXG5cdFx0aWQ6ICdAX2lkJyxcclxuXHRcdG51bWJlcjogJ251bWJlcicsXHJcblx0XHRsYXN0TmFtZTogJ2xhc3ROYW1lJ1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4ge1xyXG5cdFx0YXBpOiBhcGksXHJcblx0XHRzZWFyY2g6IHNlYXJjaFxyXG5cdH07XHJcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJ2p3dEludGVyY2VwdG9yUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdzaWdudXAnLCB7XHJcbiAgICAgICAgdXJsOiAnL3NpZ251cCcsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3VzZXIvdmlld3Mvc2lnbnVwLmNsaWVudC52aWV3Lmh0bWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzTG9naW46IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5zdGF0ZSgnc2lnbmluJywge1xyXG4gICAgICAgIHVybDogJy9zaWduaW4nLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy91c2VyL3ZpZXdzL3NpZ25pbi5jbGllbnQudmlldy5odG1sJyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICByZXF1aXJlc0xvZ2luOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkuc3RhdGUoJ3VzZXJMaXN0Jywge1xyXG4gICAgICAgIHVybDogJy91c2VycycsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3VzZXIvdmlld3MvdXNlci1saXN0LmNsaWVudC52aWV3Lmh0bWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzTG9naW46IHRydWUsXHJcbiAgICAgICAgICByZXF1aXJlc0FkbWluOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS5zdGF0ZSgnZWRpdFVzZXInLCB7XHJcbiAgICAgICAgdXJsOiAnL3VzZXJzLzppZC9lZGl0JyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdXNlci92aWV3cy91c2VyLWVkaXQuY2xpZW50LnZpZXcuaHRtbCcsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgcmVxdWlyZXNMb2dpbjogdHJ1ZSxcclxuICAgICAgICAgIHJlcXVpcmVzQWRtaW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAvL2dldCB0b2tlbiB0byBsb2NhbCBzdG9yYWdlIGFuZCBzZXQgb24gdGhlIGhlYWRlcnNcclxuICAgIGp3dEludGVyY2VwdG9yUHJvdmlkZXIudG9rZW5HZXR0ZXIgPSBbJ2p3dEhlbHBlcicsICckaHR0cCcsICdzdG9yZScsICckd2luZG93JywgZnVuY3Rpb24oand0SGVscGVyLCAkaHR0cCwgc3RvcmUsICR3aW5kb3cpIHtcclxuICAgICAgdmFyIGlkVG9rZW4gPSBzdG9yZS5nZXQoJ2p3dCcpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChqd3RIZWxwZXIuaXNUb2tlbkV4cGlyZWQoaWRUb2tlbikpIHtcclxuICAgICAgICAgIC8vIFRoaXMgaXMgYSBwcm9taXNlIG9mIGEgSldUIGlkX3Rva2VuXHJcbiAgICAgICAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjcwMDAvYXBpL3VzZXJzL3JlZnJlc2gnLFxyXG4gICAgICAgICAgICAvLyBUaGlzIG1ha2VzIGl0IHNvIHRoYXQgdGhpcyByZXF1ZXN0IGRvZXNuJ3Qgc2VuZCB0aGUgSldUXHJcbiAgICAgICAgICAgIHNraXBBdXRob3JpemF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHRva2VuOiBpZFRva2VuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdmFyIGlkX3Rva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjtcclxuICAgICAgICAgICAgc3RvcmUuc2V0KCdqd3QnLCBpZF90b2tlbik7XHJcbiAgICAgICAgICAgIHJldHVybiBpZF90b2tlbjtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICBzdG9yZS5yZW1vdmUoJ2p3dCcpO1xyXG4gICAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3VzZXIjL3NpZ25pbic7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gaWRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHN0b3JlLnJlbW92ZSgnand0Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XTtcclxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2p3dEludGVyY2VwdG9yJyk7XHJcblxyXG5cclxuICB9XSlcclxuICAucnVuKFsnJHJvb3RTY29wZScsICckd2luZG93JywgJ3N0b3JlJywgJyRsb2NhdGlvbicsICdVc2VyU2VydicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICR3aW5kb3csIHN0b3JlLCAkbG9jYXRpb24sIFVzZXJTZXJ2KSB7XHJcbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihlLCB0bykge1xyXG5cclxuICAgICAgaWYgKCR3aW5kb3cubG9jYXRpb24uaGFzaCA9PSAnIy9zaWduaW4nICYmICR3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy9wYW5lbCcpIHtcclxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3VzZXIjL3NpZ25pbic7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgkd2luZG93LmxvY2F0aW9uLmhhc2ggPT0gJyMvc2lnbnVwJyAmJiAkd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09ICcvcGFuZWwnKSB7XHJcbiAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy91c2VyIy9zaWdudXAnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodG8uZGF0YSAmJiB0by5kYXRhLnJlcXVpcmVzTG9naW4pIHtcclxuICAgICAgICBpZiAoIXN0b3JlLmdldCgnand0JykpIHtcclxuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdzaWduaW4nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRvLmRhdGEucmVxdWlyZXNBZG1pbiAmJiAhVXNlclNlcnYuaXNBZG1pbigpKSB7XHJcbiAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3BhbmVsJztcclxuICAgICAgICB9IGVsc2UgaWYgKCR3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT0gJy91c2VyJyAmJiAkd2luZG93LmxvY2F0aW9uLmhhc2ggPT0gJyMvJykge1xyXG4gICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9wYW5lbCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmNvbnRyb2xsZXIoJ1VzZXJDb250cm9sbGVyJywgWyckd2luZG93JywgJ1VzZXJzJywgJ1VzZXJTZXJ2JywgJyRodHRwJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsICckc3RhdGVQYXJhbXMnLCAnJHN0YXRlJywgZnVuY3Rpb24oJHdpbmRvdywgVXNlcnMsIFVzZXJTZXJ2LCAkaHR0cCwgc3RvcmUsIGp3dEhlbHBlciwgJHN0YXRlUGFyYW1zLCAkc3RhdGUpIHtcclxuXHJcbiAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgdm0udXNlciA9IHt9O1xyXG4gICAgdm0uZXJyb3JJbmZvID0ge307XHJcblxyXG4gICAgdm0ucHVibGljU2lnbnVwID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBuZXdVc2VyID0gbmV3IFVzZXJzLmFwaSh2bS51c2VyKTtcclxuXHJcbiAgICAgIG5ld1VzZXIuJHNhdmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBzdG9yZS5zZXQoJ2p3dCcsIHJlc3BvbnNlLnRva2VuKTtcclxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3BhbmVsJztcclxuICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgdm0uZXJyb3JJbmZvID0gZXJyLmRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5zaWdudXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgLy92YXIgdXNlclJvbGUgPSAodm0udXNlci5yb2xlKSA/ICdBZG1pbicgOiAnVGVjaCc7XHJcbiAgICAgIC8vIHNldCBjb2RlIGZvciB1c2VyIHJvbGVcclxuICAgICAgaWYodm0udXNlci5yb2xlKSB7XHJcbiAgICAgICAgdm0udXNlci5jb2RlID0gJ3liOWI2MzdpMnYnO1xyXG4gICAgICAgIHZtLnVzZXIucm9sZSA9ICdBZG1pbic7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICB2bS51c2VyLmNvZGUgPSAnZHc3N3llZTE4dSc7XHJcbiAgICAgICAgdm0udXNlci5yb2xlID0gJ1RlY2gnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbmV3VXNlciA9IG5ldyBVc2Vycy5hcGkodm0udXNlcik7XHJcblxyXG4gICAgICBuZXdVc2VyLiRzYXZlKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgLy8gYWRkIHVzZXIgdG8gdGhlIGxpc3RcclxuICAgICAgICB2bS51c2Vycy5wdXNoKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgIC8vIHJlc2V0IGZvcm1cclxuICAgICAgICB2bS51c2VyID0ge307XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgIHZtLmVycm9ySW5mbyA9IGVyci5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uc2lnbmluID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB1c2VyID0gbmV3IFVzZXJzLnNpZ25pbih2bS51c2VyKTtcclxuXHJcbiAgICAgIHVzZXIuJHNhdmUoZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgIHN0b3JlLnNldCgnand0JywgcmVzcG9uc2UudG9rZW4pO1xyXG4gICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcGFuZWwjLyc7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgIHZtLmVycm9ySW5mbyA9IGVyci5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZ2V0QWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIFVzZXJzLmFwaS5xdWVyeShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIHZtLnVzZXJzID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHJldHVybiBlLl9pZCAhPT0gdm0uY3VycmVudFVzZXIuX2lkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdm0uZ2V0T25lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIFVzZXJzLmFwaS5nZXQoe1xyXG4gICAgICAgIGlkOiAkc3RhdGVQYXJhbXMuaWRcclxuICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2bS51c2VyID0gcmVzcG9uc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS5nZXRDdXJyZW50VXNlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2bS5jdXJyZW50VXNlciA9IFVzZXJTZXJ2LmdldEN1cnJlbnRVc2VyRGF0YSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2bS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdm0udXNlci4kdXBkYXRlKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKCd1c2VyTGlzdCcpO1xyXG4gICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICB2bS5lcnJvckluZm8gPSBlcnIuZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZtLnJlbW92ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgICAgdmFyIGNvbmZpcm0gPSAkd2luZG93LmNvbmZpcm0oJ1F1aWVyZXMgZWxpbWluYXIgZWwgdXN1YXJpbyAnICsgdXNlci5maXJzdE5hbWUgKyAnICcgKyB1c2VyLmxhc3ROYW1lICsgJyA/Jyk7XHJcblxyXG4gICAgICBpZiAoY29uZmlybSkge1xyXG4gICAgICAgIHVzZXIuJHJlbW92ZSgpO1xyXG4gICAgICAgIHZtLnVzZXJzID0gdm0udXNlcnMuZmlsdGVyKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIHJldHVybiBlLl9pZCAhPT0gdXNlci5faWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgXHJcbiAgfV0pO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1c2VyJylcclxuICAuZGlyZWN0aXZlKFwiY29tcGFyZVRvXCIsIFtmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVpcmU6IFwibmdNb2RlbFwiLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIG90aGVyTW9kZWxWYWx1ZTogXCI9Y29tcGFyZVRvXCJcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMsIG5nTW9kZWwpIHtcclxuXHJcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5jb21wYXJlVG8gPSBmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZSA9PSBzY29wZS5vdGhlck1vZGVsVmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKFwib3RoZXJNb2RlbFZhbHVlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmRpcmVjdGl2ZSgncmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yJywgWyckaHR0cCcsICdVc2VycycsIGZ1bmN0aW9uKCRodHRwLCBVc2Vycykge1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAgICAgICAgLy92YXIgYXBpVXJsID0gYXR0cnMucmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBc0xvYWRpbmcoYm9vbCkge1xyXG4gICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlY29yZExvYWRpbmcnLCAhYm9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBc0F2YWlsYWJsZShib29sKSB7XHJcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncmVjb3JkQXZhaWxhYmxlJywgYm9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgc2V0QXNMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgICAgc2V0QXNBdmFpbGFibGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgIC8vIHVzaW5nIHJlc291cmNlXHJcbiAgICAgICAgICB2YXIgZGF0YSA9IFVzZXJzLnNlYXJjaC5nZXQoe1xyXG4gICAgICAgICAgICBlbWFpbDogdmFsdWVcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgc2V0QXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICBzZXRBc0F2YWlsYWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV0pOyIsIi8vQXJ0aWNsZXMgc2VydmljZSB1c2VkIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIGFydGljbGVzIFJFU1QgZW5kcG9pbnRzXHJcbmFuZ3VsYXIubW9kdWxlKCd1c2VyJykuZmFjdG9yeSgnVXNlcnMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSkge1xyXG5cclxuICAgIHZhciBhcGkgPSAkcmVzb3VyY2UoJ2FwaS91c2Vycy86aWQnLCB7XHJcbiAgICAgICAgaWQ6ICdAX2lkJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHNpZ25pbiA9ICRyZXNvdXJjZSgnYXBpL3VzZXJzL3NpZ25pbicpO1xyXG5cclxuICAgIHZhciBsb2dvdXQgPSAkcmVzb3VyY2UoJ2FwaS91c2Vycy9sb2dvdXQvOmlkJywge1xyXG4gICAgICAgIGlkOiAnQF9pZCdcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBzZWFyY2ggPSAkcmVzb3VyY2UoJ2FwaS91c2Vycy9zZWFyY2gvOmVtYWlsJywge1xyXG4gICAgICAgIGVtYWlsOiAnQGVtYWlsJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcGk6IGFwaSxcclxuICAgICAgICBzaWduaW46IHNpZ25pbixcclxuICAgICAgICBsb2dvdXQ6IGxvZ291dCxcclxuICAgICAgICBzZWFyY2g6IHNlYXJjaFxyXG4gICAgfTtcclxufVxyXG5dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
