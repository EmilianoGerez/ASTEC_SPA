function ClientCtrl(e){var t,n=this,r={},i={msg:null,data:null},a={msg:null,data:null},o=function(){var n=new e.api(r);n.$save(function(e){angular.copy(t,r),a.msg="Cliente creado con exito",a.data=e},function(e){i.msg=e.data})};n.fns={clientModel:r,errorInfo:i,successInfo:a,create:o}}var appConfiguration=function(){var e="main",t=["ngResource","ui.router","angular-jwt","angular-storage","ngMessages"],n=function(t,n){angular.module(t,n||[]),angular.module(e).requires.push(t)};return{appName:e,appDependencies:t,registerModule:n}}();angular.module(appConfiguration.appName,appConfiguration.appDependencies),appConfiguration.registerModule("client"),appConfiguration.registerModule("user"),angular.module("client").config(["$stateProvider",function(e){e.state("clientPanel",{url:"/clients",templateUrl:"modules/client/views/client-panel.client.view.html"}).state("editClient",{url:"/clients/:id/edit",templateUrl:"modules/client/views/edit-client.client.view.html"}).state("clientDetail",{url:"/clients/:id",templateUrl:"modules/client/views/client-detail.client.view.html",data:{requiresLogin:!0}})}]),angular.module("client").controller("ClientCtrl",["Clients",ClientCtrl]),angular.module("client").factory("Clients",["$resource",function(e){var t=e("api/clients/:id",{id:"@_id"});return{api:t}}]),angular.module("main").config(["$stateProvider","$urlRouterProvider","jwtInterceptorProvider","$httpProvider",function(e,t,n,r){t.otherwise("/"),n.tokenGetter=["jwtHelper","$http","store","$state","$rootScope",function(e,t,n,r,i){var a=n.get("jwt");try{return e.isTokenExpired(a)?t({url:"http://localhost:3000/api/users/refresh",skipAuthorization:!0,method:"POST",data:{token:a}}).then(function(e){var t=e.data.token;return n.set("jwt",t),t},function(e){return n.remove("jwt"),r.go("signin"),!1}):a}catch(o){return n.remove("jwt"),!1}}],r.interceptors.push("jwtInterceptor"),e.state("home",{url:"/",templateUrl:"modules/main/views/home.client.view.html"})}]),angular.module("user").config(["$stateProvider",function(e){e.state("signup",{url:"/signup",templateUrl:"modules/user/views/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/user/views/signin.client.view.html"}).state("secureview",{url:"/secureview",templateUrl:"modules/user/views/secureview.client.view.html",data:{requiresLogin:!0}})}]).run(["$rootScope","$location","store","jwtHelper",function(e,t,n,r){e.$on("$stateChangeStart",function(e,r){return r.data&&r.data.requiresLogin&&!n.get("jwt")?t.path("signin"):void 0})}]),angular.module("user").controller("UserController",["$scope","$location","Users","$http","store","jwtHelper",function(e,t,n,r,i,a){e.user={name:"",password:"",confirmPassword:""},e.signup=function(){r({url:"http://localhost:3000/api/users/signup",method:"POST",data:e.user}).then(function(e){i.set("jwt",e.data.token),t.path("/")},function(t){e.errMessage=t.data.message})},e.signin=function(){r({url:"http://localhost:3000/api/users/signin",method:"POST",data:e.user}).then(function(e){var n=e.data.token;i.set("jwt",n),t.path("/")},function(t){e.errMessage=t.data.message})},e.isAuth=function(){var t=i.get("jwt");return t?(e.payload=a.decodeToken(t),!0):!1},e.logout=function(){var e=i.get("jwt"),t=a.decodeToken(e);n.logout.get({id:t._id},function(){i.remove("jwt")})}}]),angular.module("user").directive("compareTo",[function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,n,r){r.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("otherModelValue",function(){r.$validate()})}}}]),angular.module("user").directive("recordAvailabilityValidator",["$http","Users",function(e,t){return{require:"ngModel",link:function(e,n,r,i){function a(e){i.$setValidity("recordLoading",!e)}function o(e){i.$setValidity("recordAvailable",e)}i.$parsers.push(function(e){if(e&&0!==e.length){a(!0),o(!1);var n=t.search.get({name:e},function(){null===n.data&&(a(!1),o(!0))});return e}})}}}]),angular.module("user").factory("Users",["$resource",function(e){var t=e("api/users/logout/:id",{id:"@_id"}),n=e("api/users/search/:name",{name:"@name"});return{logout:t,search:n}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC9jb250cm9sbGVycy9jbGllbnQuY2xpZW50LmNvbnRyb2xsZXIuanMiLCJjb25maWctYXBwLmpzIiwibWFpbi1hcHAuanMiLCJjbGllbnQvY2xpZW50LmNsaWVudC5yZWdpc3Rlci5qcyIsInVzZXIvdXNlci5jbGllbnQucmVnaXN0ZXIuanMiLCJjbGllbnQvY29uZmlnL2NsaWVudC5jbGllbnQucm91dGVzLmpzIiwiY2xpZW50L3NlcnZpY2VzL2NsaWVudC5jbGllbnQuc2VydmljZS5qcyIsIm1haW4vY29uZmlnL21haW4uY2xpZW50LnJvdXRlcy5qcyIsInVzZXIvY29uZmlnL3VzZXIuY2xpZW50LnJvdXRlcy5qcyIsInVzZXIvY29udHJvbGxlcnMvdXNlci5jbGllbnQuY29udHJvbGxlci5qcyIsInVzZXIvc2VydmljZXMvdXNlci5jbGllbnQuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJDbGllbnRDdHJsIiwiQ2xpZW50cyIsIm1hc3Rlck1vZGVsIiwidm0iLCJ0aGlzIiwiY2xpZW50TW9kZWwiLCJlcnJvckluZm8iLCJtc2ciLCJkYXRhIiwic3VjY2Vzc0luZm8iLCJjcmVhdGUiLCJuZXdDbGllbnQiLCJhcGkiLCIkc2F2ZSIsInJlcyIsImFuZ3VsYXIiLCJjb3B5IiwiZXJyIiwiZm5zIiwiYXBwQ29uZmlndXJhdGlvbiIsImFwcE5hbWUiLCJhcHBEZXBlbmRlbmNpZXMiLCJyZWdpc3Rlck1vZHVsZSIsIm1vZHVsZU5hbWUiLCJtb2R1bGVEZXBlbmRlbmNpZXMiLCJtb2R1bGUiLCJyZXF1aXJlcyIsInB1c2giLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlc0xvZ2luIiwiY29udHJvbGxlciIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJpZCIsIiR1cmxSb3V0ZXJQcm92aWRlciIsImp3dEludGVyY2VwdG9yUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwib3RoZXJ3aXNlIiwidG9rZW5HZXR0ZXIiLCJqd3RIZWxwZXIiLCIkaHR0cCIsInN0b3JlIiwiJHN0YXRlIiwiJHJvb3RTY29wZSIsImlkVG9rZW4iLCJnZXQiLCJpc1Rva2VuRXhwaXJlZCIsInNraXBBdXRob3JpemF0aW9uIiwibWV0aG9kIiwidG9rZW4iLCJ0aGVuIiwicmVzcG9uc2UiLCJpZF90b2tlbiIsInNldCIsInJlbW92ZSIsImdvIiwiaW50ZXJjZXB0b3JzIiwicnVuIiwiJGxvY2F0aW9uIiwiJG9uIiwiZSIsInRvIiwicGF0aCIsIiRzY29wZSIsIlVzZXJzIiwidXNlciIsIm5hbWUiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsInNpZ251cCIsImVyck1lc3NhZ2UiLCJtZXNzYWdlIiwic2lnbmluIiwiaXNBdXRoIiwicGF5bG9hZCIsImRlY29kZVRva2VuIiwibG9nb3V0IiwiZGVjb2RlZCIsIl9pZCIsImRpcmVjdGl2ZSIsInJlcXVpcmUiLCJzY29wZSIsIm90aGVyTW9kZWxWYWx1ZSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cmlidXRlcyIsIm5nTW9kZWwiLCIkdmFsaWRhdG9ycyIsImNvbXBhcmVUbyIsIm1vZGVsVmFsdWUiLCIkd2F0Y2giLCIkdmFsaWRhdGUiLCJhdHRycyIsInNldEFzTG9hZGluZyIsImJvb2wiLCIkc2V0VmFsaWRpdHkiLCJzZXRBc0F2YWlsYWJsZSIsIiRwYXJzZXJzIiwidmFsdWUiLCJsZW5ndGgiLCJzZWFyY2giXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLFlBQUFDLEdBQ0EsR0FFQUMsR0FGQUMsRUFBQUMsS0FFQUMsS0FDQUMsR0FDQUMsSUFBQSxLQUNBQyxLQUFBLE1BRUFDLEdBQ0FGLElBQUEsS0FDQUMsS0FBQSxNQUdBRSxFQUFBLFdBQ0EsR0FBQUMsR0FBQSxHQUFBVixHQUFBVyxJQUFBUCxFQUVBTSxHQUFBRSxNQUFBLFNBQUFDLEdBQ0FDLFFBQUFDLEtBQUFkLEVBQUFHLEdBQ0FJLEVBQUFGLElBQUEsMkJBQ0FFLEVBQUFELEtBQUFNLEdBQ0EsU0FBQUcsR0FD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QVcsU0FBQTFFLEtBQUEsU0FBQTJFLEdBQ0EsR0FBQUEsR0FBQSxJQUFBQSxFQUFBQyxPQUFBLENBRUFOLEdBQUEsR0FDQUcsR0FBQSxFQUdBLElBQUE1RixHQUFBNEQsRUFBQW9DLE9BQUF2RCxLQUNBcUIsS0FBQWdDLEdBQ0EsV0FDQSxPQUFBOUYsRUFBQUEsT0FDQXlGLEdBQUEsR0FDQUcsR0FBQSxLQUdBLE9BQUFFLFdDMUdBdkYsUUFBQVUsT0FBQSxRQUFBVSxRQUFBLFNBQUEsWUFBQSxTQUFBQyxHQUVBLEdBQUE0QyxHQUFBNUMsRUFBQSx3QkFDQUMsR0FBQSxTQUdBbUUsRUFBQXBFLEVBQUEsMEJBQ0FrQyxLQUFBLFNBR0EsUUFDQVUsT0FBQUEsRUFDQXdCLE9BQUFBIiwiZmlsZSI6ImNvbXByZXNzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENsaWVudEN0cmwoQ2xpZW50cykge1xyXG4gIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gIHZhciBtYXN0ZXJNb2RlbCwgY2xpZW50TW9kZWwgPSB7fTtcclxuICB2YXIgZXJyb3JJbmZvID0ge1xyXG4gICAgbXNnOiBudWxsLFxyXG4gICAgZGF0YTogbnVsbFxyXG4gIH07XHJcbiAgdmFyIHN1Y2Nlc3NJbmZvID0ge1xyXG4gICAgbXNnOiBudWxsLFxyXG4gICAgZGF0YTogbnVsbFxyXG4gIH07XHJcblxyXG4gIHZhciBjcmVhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuZXdDbGllbnQgPSBuZXcgQ2xpZW50cy5hcGkoY2xpZW50TW9kZWwpO1xyXG5cclxuICAgIG5ld0NsaWVudC4kc2F2ZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgYW5ndWxhci5jb3B5KG1hc3Rlck1vZGVsLCBjbGllbnRNb2RlbCk7XHJcbiAgICAgIHN1Y2Nlc3NJbmZvLm1zZyA9ICdDbGllbnRlIGNyZWFkbyBjb24gZXhpdG8nO1xyXG4gICAgICBzdWNjZXNzSW5mby5kYXRhID0gcmVzO1xyXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgIGVycm9ySW5mby5tc2cgPSBlcnIuZGF0YTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBmdW5jdG9uIGhlbHBlcnNcclxuXHJcbiAgLy8gZXhwb3J0cyAocHVibGljKVxyXG4gIHZtLmZucyA9IHtcclxuICAgIGNsaWVudE1vZGVsOiBjbGllbnRNb2RlbCxcclxuICAgIGVycm9ySW5mbzogZXJyb3JJbmZvLFxyXG4gICAgc3VjY2Vzc0luZm86IHN1Y2Nlc3NJbmZvLFxyXG4gICAgY3JlYXRlOiBjcmVhdGVcclxuICB9O1xyXG5cclxufVxyXG5cclxuYW5ndWxhclxyXG4gIC5tb2R1bGUoJ2NsaWVudCcpXHJcbiAgLmNvbnRyb2xsZXIoJ0NsaWVudEN0cmwnLCBbJ0NsaWVudHMnLCBDbGllbnRDdHJsXSk7XHJcbi8vIGFuZ3VsYXIubW9kdWxlKCd1c2VyJylcclxuLy8gICAuZGlyZWN0aXZlKCdyZWNvcmRBdmFpbGFiaWxpdHlWYWxpZGF0b3InLCBbJyRodHRwJywgJ1VzZXJzJywgZnVuY3Rpb24oJGh0dHAsIFVzZXJzKSB7XHJcblxyXG4vLyAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4vLyAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuLy8gICAgICAgICAvL3ZhciBhcGlVcmwgPSBhdHRycy5yZWNvcmRBdmFpbGFiaWxpdHlWYWxpZGF0b3I7XHJcblxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHNldEFzTG9hZGluZyhib29sKSB7XHJcbi8vICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncmVjb3JkTG9hZGluZycsICFib29sKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHNldEFzQXZhaWxhYmxlKGJvb2wpIHtcclxuLy8gICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdyZWNvcmRBdmFpbGFibGUnLCBib29sKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4vLyAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbi8vICAgICAgICAgICBzZXRBc0xvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICAgICAgICBzZXRBc0F2YWlsYWJsZShmYWxzZSk7XHJcblxyXG4vLyAgICAgICAgICAgLy8gdXNpbmcgcmVzb3VyY2VcclxuLy8gICAgICAgICAgIHZhciBkYXRhID0gVXNlcnMuc2VhcmNoLmdldCh7XHJcbi8vICAgICAgICAgICAgIG5hbWU6IHZhbHVlXHJcbi8vICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICAgICAgaWYgKGRhdGEuZGF0YSA9PT0gJycpIHtcclxuLy8gICAgICAgICAgICAgICBzZXRBc0xvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgICAgICAgICAgIHNldEFzQXZhaWxhYmxlKHRydWUpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfTtcclxuLy8gICB9XSk7IiwidmFyIGFwcENvbmZpZ3VyYXRpb24gPSAoZnVuY3Rpb24oKSB7XHJcblx0dmFyIGFwcE5hbWUgPSAnbWFpbic7XHJcblx0dmFyIGFwcERlcGVuZGVuY2llcyA9IFsnbmdSZXNvdXJjZScsICd1aS5yb3V0ZXInLCAnYW5ndWxhci1qd3QnLCAnYW5ndWxhci1zdG9yYWdlJywgJ25nTWVzc2FnZXMnXTtcclxuXHJcblx0Ly9NZXRob2QgZm9yIGFkZCBuZXcgbW9kdWxlc1xyXG5cdHZhciByZWdpc3Rlck1vZHVsZSA9IGZ1bmN0aW9uKG1vZHVsZU5hbWUsIG1vZHVsZURlcGVuZGVuY2llcykge1xyXG5cdFx0Ly8gQ3JlYXRlIG1vZHVsZVxyXG5cdFx0YW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgbW9kdWxlRGVwZW5kZW5jaWVzIHx8IFtdKTtcclxuXHJcblx0XHQvLyBBZGQgdGhlIG5ldyBtb2R1bGUgdG8gdGhlIGFuZ3VsYXIgY29uZmlnIGZpbGVcclxuXHRcdGFuZ3VsYXIubW9kdWxlKGFwcE5hbWUpLnJlcXVpcmVzLnB1c2gobW9kdWxlTmFtZSk7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGFwcE5hbWU6IGFwcE5hbWUsXHJcblx0XHRhcHBEZXBlbmRlbmNpZXM6IGFwcERlcGVuZGVuY2llcyxcclxuXHRcdHJlZ2lzdGVyTW9kdWxlOiByZWdpc3Rlck1vZHVsZVxyXG5cdH1cclxufSkgKCk7IiwiLy9EZWZpbmUgbWFpbiBtb2R1bGVcclxuYW5ndWxhci5tb2R1bGUoYXBwQ29uZmlndXJhdGlvbi5hcHBOYW1lLCBhcHBDb25maWd1cmF0aW9uLmFwcERlcGVuZGVuY2llcyk7IiwiYXBwQ29uZmlndXJhdGlvbi5yZWdpc3Rlck1vZHVsZSgnY2xpZW50Jyk7IiwiYXBwQ29uZmlndXJhdGlvbi5yZWdpc3Rlck1vZHVsZSgndXNlcicpOyIsImFuZ3VsYXIubW9kdWxlKCdjbGllbnQnKVxyXG4gIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgLnN0YXRlKCdjbGllbnRQYW5lbCcsIHtcclxuICAgICAgICB1cmw6ICcvY2xpZW50cycsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2NsaWVudC92aWV3cy9jbGllbnQtcGFuZWwuY2xpZW50LnZpZXcuaHRtbCdcclxuICAgICAgfSkuc3RhdGUoJ2VkaXRDbGllbnQnLCB7XHJcbiAgICAgICAgdXJsOiAnL2NsaWVudHMvOmlkL2VkaXQnLFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9jbGllbnQvdmlld3MvZWRpdC1jbGllbnQuY2xpZW50LnZpZXcuaHRtbCcsXHJcbiAgICAgIH0pLnN0YXRlKCdjbGllbnREZXRhaWwnLCB7XHJcbiAgICAgICAgdXJsOiAnL2NsaWVudHMvOmlkJyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvY2xpZW50L3ZpZXdzL2NsaWVudC1kZXRhaWwuY2xpZW50LnZpZXcuaHRtbCcsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgcmVxdWlyZXNMb2dpbjogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfV0pOyIsIi8vQXJ0aWNsZXMgc2VydmljZSB1c2VkIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIGFydGljbGVzIFJFU1QgZW5kcG9pbnRzXHJcbmFuZ3VsYXIubW9kdWxlKCdjbGllbnQnKS5mYWN0b3J5KCdDbGllbnRzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbigkcmVzb3VyY2UpIHtcclxuXHJcbiAgICB2YXIgYXBpID0gJHJlc291cmNlKCdhcGkvY2xpZW50cy86aWQnLCB7XHJcbiAgICAgICAgaWQ6ICdAX2lkJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcGk6IGFwaVxyXG4gICAgfTtcclxufVxyXG5dKTsiLCJhbmd1bGFyLm1vZHVsZSgnbWFpbicpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICdqd3RJbnRlcmNlcHRvclByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XHJcbiAgICAvLyBSZWRpcmVjdCB0byBob21lIHZpZXcgd2hlbiByb3V0ZSBub3QgZm91bmRcclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuXHJcbiAgICAvLyBnZXQgdG9rZW4gdG8gbG9jYWwgc3RvcmFnZSBhbmQgc2V0IG9uIHRoZSBoZWFkZXJzXHJcbiAgICBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLnRva2VuR2V0dGVyID0gWydqd3RIZWxwZXInLCAnJGh0dHAnLCAnc3RvcmUnLCAnJHN0YXRlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihqd3RIZWxwZXIsICRodHRwLCBzdG9yZSwgJHN0YXRlLCAkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgdmFyIGlkVG9rZW4gPSBzdG9yZS5nZXQoJ2p3dCcpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChqd3RIZWxwZXIuaXNUb2tlbkV4cGlyZWQoaWRUb2tlbikpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwcm9taXNlIG9mIGEgSldUIGlkX3Rva2VuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVmcmVzaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtYWtlcyBpdCBzbyB0aGF0IHRoaXMgcmVxdWVzdCBkb2Vzbid0IHNlbmQgdGhlIEpXVFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBBdXRob3JpemF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IGlkVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkX3Rva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICBzdG9yZS5zZXQoJ2p3dCcsIGlkX3Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWRfdG9rZW47XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdG9yZS5yZW1vdmUoJ2p3dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2lnbmluJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWRUb2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBzdG9yZS5yZW1vdmUoJ2p3dCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfV07XHJcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdqd3RJbnRlcmNlcHRvcicpO1xyXG5cclxuICAgIC8vIEhvbWUgc3RhdGUgcm91dGluZ1xyXG4gICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLCB7XHJcbiAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL21haW4vdmlld3MvaG9tZS5jbGllbnQudmlldy5odG1sJ1xyXG4gICAgfSk7XHJcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcclxuXHJcbiAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAuc3RhdGUoJ3NpZ251cCcsIHtcclxuICAgICAgICB1cmw6ICcvc2lnbnVwJyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdXNlci92aWV3cy9zaWdudXAuY2xpZW50LnZpZXcuaHRtbCdcclxuICAgICAgfSkuc3RhdGUoJ3NpZ25pbicsIHtcclxuICAgICAgICB1cmw6ICcvc2lnbmluJyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdXNlci92aWV3cy9zaWduaW4uY2xpZW50LnZpZXcuaHRtbCcsXHJcbiAgICAgIH0pLnN0YXRlKCdzZWN1cmV2aWV3Jywge1xyXG4gICAgICAgIHVybDogJy9zZWN1cmV2aWV3JyxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvdXNlci92aWV3cy9zZWN1cmV2aWV3LmNsaWVudC52aWV3Lmh0bWwnLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHJlcXVpcmVzTG9naW46IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1dKVxyXG4gIC5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICdzdG9yZScsICdqd3RIZWxwZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sIHN0b3JlLCBqd3RIZWxwZXIpIHtcclxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGUsIHRvKSB7XHJcbiAgICAgIGlmICh0by5kYXRhICYmIHRvLmRhdGEucmVxdWlyZXNMb2dpbikge1xyXG4gICAgICAgIGlmICghc3RvcmUuZ2V0KCdqd3QnKSkge1xyXG4gICAgICAgICAgcmV0dXJuICRsb2NhdGlvbi5wYXRoKCdzaWduaW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmNvbnRyb2xsZXIoJ1VzZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ1VzZXJzJywgJyRodHRwJywgJ3N0b3JlJywgJ2p3dEhlbHBlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VycywgJGh0dHAsIHN0b3JlLCBqd3RIZWxwZXIpIHtcclxuICAgICRzY29wZS51c2VyID0ge1xyXG4gICAgICBuYW1lOiBcIlwiLFxyXG4gICAgICBwYXNzd29yZDogXCJcIixcclxuICAgICAgY29uZmlybVBhc3N3b3JkOiBcIlwiXHJcbiAgICB9O1xyXG4gICAgJHNjb3BlLnNpZ251cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkaHR0cCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9zaWdudXAnLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGE6ICRzY29wZS51c2VyXHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICBzdG9yZS5zZXQoJ2p3dCcsIHJlc3BvbnNlLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICRzY29wZS5lcnJNZXNzYWdlID0gZXJyLmRhdGEubWVzc2FnZTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgICRzY29wZS5zaWduaW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgJGh0dHAoe1xyXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvc2lnbmluJyxcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBkYXRhOiAkc2NvcGUudXNlclxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIHRva2VuID0gcmVzcG9uc2UuZGF0YS50b2tlbjtcclxuICAgICAgICBzdG9yZS5zZXQoJ2p3dCcsIHRva2VuKTtcclxuICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAkc2NvcGUuZXJyTWVzc2FnZSA9IGVyci5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuaXNBdXRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHN0b3JlLmdldCgnand0Jyk7XHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICRzY29wZS5wYXlsb2FkID0gand0SGVscGVyLmRlY29kZVRva2VuKHRva2VuKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdG9rZW4gPSBzdG9yZS5nZXQoJ2p3dCcpO1xyXG4gICAgICB2YXIgZGVjb2RlZCA9IGp3dEhlbHBlci5kZWNvZGVUb2tlbih0b2tlbik7XHJcbiAgICAgIFVzZXJzLmxvZ291dC5nZXQoe1xyXG4gICAgICAgIGlkOiBkZWNvZGVkLl9pZFxyXG4gICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzdG9yZS5yZW1vdmUoJ2p3dCcpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfV0pO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCd1c2VyJylcclxuICAuZGlyZWN0aXZlKFwiY29tcGFyZVRvXCIsIFtmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVpcmU6IFwibmdNb2RlbFwiLFxyXG4gICAgICBzY29wZToge1xyXG4gICAgICAgIG90aGVyTW9kZWxWYWx1ZTogXCI9Y29tcGFyZVRvXCJcclxuICAgICAgfSxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMsIG5nTW9kZWwpIHtcclxuXHJcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5jb21wYXJlVG8gPSBmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZSA9PSBzY29wZS5vdGhlck1vZGVsVmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKFwib3RoZXJNb2RlbFZhbHVlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgndXNlcicpXHJcbiAgLmRpcmVjdGl2ZSgncmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yJywgWyckaHR0cCcsICdVc2VycycsIGZ1bmN0aW9uKCRodHRwLCBVc2Vycykge1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAgICAgICAgLy92YXIgYXBpVXJsID0gYXR0cnMucmVjb3JkQXZhaWxhYmlsaXR5VmFsaWRhdG9yO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBc0xvYWRpbmcoYm9vbCkge1xyXG4gICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlY29yZExvYWRpbmcnLCAhYm9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBc0F2YWlsYWJsZShib29sKSB7XHJcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncmVjb3JkQXZhaWxhYmxlJywgYm9vbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgc2V0QXNMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgICAgc2V0QXNBdmFpbGFibGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgIC8vIHVzaW5nIHJlc291cmNlXHJcbiAgICAgICAgICB2YXIgZGF0YSA9IFVzZXJzLnNlYXJjaC5nZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiB2YWx1ZVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICBzZXRBc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICAgIHNldEFzQXZhaWxhYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XSk7IiwiLy9BcnRpY2xlcyBzZXJ2aWNlIHVzZWQgZm9yIGNvbW11bmljYXRpbmcgd2l0aCB0aGUgYXJ0aWNsZXMgUkVTVCBlbmRwb2ludHNcclxuYW5ndWxhci5tb2R1bGUoJ3VzZXInKS5mYWN0b3J5KCdVc2VycycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24oJHJlc291cmNlKSB7XHJcblxyXG4gICAgdmFyIGxvZ291dCA9ICRyZXNvdXJjZSgnYXBpL3VzZXJzL2xvZ291dC86aWQnLCB7XHJcbiAgICAgICAgaWQ6ICdAX2lkJ1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHNlYXJjaCA9ICRyZXNvdXJjZSgnYXBpL3VzZXJzL3NlYXJjaC86bmFtZScsIHtcclxuICAgICAgICBuYW1lOiAnQG5hbWUnXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxvZ291dDogbG9nb3V0LFxyXG4gICAgICAgIHNlYXJjaDogc2VhcmNoXHJcbiAgICB9O1xyXG59XHJcbl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
